import{s as d}from"./string-IWyLvnMj.js";import{d as p,g,o as i,c as u,F as x,r as h,n as f,u as C,t as m}from"./app-BJS3HRcf.js";var c=(e=>(e[e.Text=0]="Text",e[e.BackGround=1]="BackGround",e))(c||{});function v(e,t,o,n){const l=[];if(e.length&&!t.length)return a({text:e,isColored:!1},n);if(!e.length||!t.length)return l;let r=0,s=e.toLowerCase().indexOf(t.toLowerCase());for(;s!==-1;)r!==s&&l.push(...a({text:e.slice(r,s),isColored:!1},n)),l.push(...a({text:e.slice(s,s+t.length),isColored:!0,colorType:o},n)),r=s+t.length,s=e.toLowerCase().indexOf(t.toLowerCase(),r);return r<e.length&&l.push(...a({text:e.slice(r),isColored:!1},n)),l}function w(e){if(e.isColored)return e.colorType===c.Text?"text-blue-2":"bg-green-4"}const T=(e,t)=>e===""?t:t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())),L=e=>e.text.split("").map(t=>({text:t,isColored:e.isColored,colorType:e.colorType})),a=(e,t)=>t?L(e):[e],k=(e,t)=>{const o=Array();return e==null||e.forEach(n=>{o.every(l=>l.title!==n.title)&&o.push(n)}),t?d(o,t):o},O=p({name:"SearchResultSpan"}),B=p({...O,props:{text:{},pattern:{},colorType:{default:c.Text},greyTextOnHover:{type:Boolean,default:!0}},setup(e){const t=e,o=g(()=>v(t.text,t.pattern,t.colorType));return(n,l)=>(i(),u("div",{class:f(n.greyTextOnHover&&"group")},[(i(!0),u(x,null,h(o.value,(r,s)=>(i(),u("span",{key:s,class:f([n.greyTextOnHover&&"group-hover:text-grey-1",C(w)(r)])},m(r.text),3))),128))],2))}});export{c as T,B as _,v as a,w as b,T as f,k as g};
