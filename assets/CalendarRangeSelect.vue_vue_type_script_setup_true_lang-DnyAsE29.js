const __vite__fileDeps=["assets/BaseCalendar-gu70jrK1.js","assets/BaseCalendar.vue_vue_type_script_setup_true_lang-B0SQm6gb.js","assets/IconArrowLeft.vue_vue_type_script_setup_true_lang-C4z6_64m.js","assets/app-BJS3HRcf.js","assets/app-2XzSjNyr.css","assets/IconArrowRight.vue_vue_type_script_setup_true_lang-CHYIX3pv.js","assets/AppLink.vue_vue_type_script_setup_true_lang-D_VZ64dX.js","assets/PopupInsideContainer.vue_vue_type_script_setup_true_lang-CSvXNPUX.js","assets/BasePopup.vue_vue_type_script_setup_true_lang-Ci6Wsd6C.js","assets/usePopupInsideContainer-8s8n0Aqa.js","assets/CalendarDayCell-BBhLJWfx.js","assets/CalendarDayCell.vue_vue_type_script_setup_true_lang-0CE-NSo9.js","assets/CalendarMonth-Qnu5Xu3E.js","assets/index-DFO819Cz.js","assets/index-CoNwWjZd.js","assets/InputErrorsList.vue_vue_type_script_setup_true_lang-DaugDlO_.js","assets/string-IWyLvnMj.js","assets/compare-CYLiHIG1.js","assets/index-ziM1GaDm.js","assets/CalendarMonthCell-D6wo_Dl5.js","assets/CalendarMonthCell.vue_vue_type_script_setup_true_lang-CAf7JQMA.js","assets/CalendarMonthRange-dNK1vkXQ.js","assets/CalendarYear-A4n5k0_N.js","assets/CalendarYearCell-B1cVNUo7.js","assets/CalendarYearCell.vue_vue_type_script_setup_true_lang-rLctdml2.js","assets/CalendarYearRange-RD_poXri.js","assets/CalendarYears-uZCrx0E5.js","assets/CalendarYearsRange-BNbAlt9p.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{S as D}from"./size-CZEB3HWR.js";import{_ as K}from"./BaseSelectDropDown.vue_vue_type_script_setup_true_lang-DQJYnFGB.js";import{C as y,u as N,c as S,g as $,d as x,b as z,e as F}from"./index-CoNwWjZd.js";import{d as E,G as Q,e as X,g as p,y as w,o as T,c as Y,t as Z,h as G,b as _,n as I,u as c,z as L,a as P,_ as ee,f as A,I as ae,J as re,B as le,K as U,L as j,M as l,w as q}from"./app-BJS3HRcf.js";import{_ as te,I as W}from"./InputErrorsList.vue_vue_type_script_setup_true_lang-DaugDlO_.js";const ne={key:0,class:"font-size-5 mb-2 block text-grey-1"},oe={class:"relative"},ue={class:"flex flex-nowrap"},se=["value","type","placeholder","disabled"],ie=_("span",{class:"mx-1 inline-block shrink-0 text-grey-1"},"–",-1),de=["value","type","placeholder","disabled"],me=E({name:"DateRangeInput"}),pe=E({...me,props:{minValue:{},maxValue:{},placeholderForMinValue:{},placeholderForMaxValue:{},size:{default:D.M},label:{default:""},disabled:{type:Boolean,default:!1},minWidth:{default:320},isNotPreventDefaultEnter:{type:Boolean},required:{type:Boolean},calendarType:{default:y.month},isInactiveRule:{},showError:{type:Boolean,default:!0},inactiveErrorText:{},isError:{type:Boolean},errorList:{}},emits:["update:minValue","update:maxValue","click:iconRight"],setup(f,{emit:g}){const e=f,s=g,m=Q(),o=X(),d=p(()=>{const a=["flex justify-between","border rounded-md","pr-13 pl-4","m-0","w-full box-border",e.size===D.S?"py-1.75":"py-2.75",k.value?"border-red-3":"border-blueGrey-4",e.disabled?"bg-grey-5":"bg-transparent"];return k.value?a.push("hover:border-red-2 active:border-red-2 focus:border-red-2"):e.disabled?a.push("hover:border-blueGrey-4 active:border-blueGrey-4 focus:border-blueGrey-4"):a.push("hover:border-blueGrey-3 active:border-blueGrey-3 focus:border-blueGrey-3"),a}),n=["text-black-1 text-size-5","p-0 m-0 min-w-8","placeholder:text-grey-2","disabled:text-grey-2"],u=p({get(){return $(e.minValue,e.calendarType)},set(a){const t=/[^\d]/g;switch(b.value.value="",e.calendarType){case y.month:{const[r,v,V]=a.split(t),M=x(e.calendarType,!0,r,v,V,e.isInactiveRule,e.showError,e.maxValue);s("update:minValue",M);break}case y.year:{let[r,v]=a.split(t);const V=x(e.calendarType,!0,"1",r,v,e.isInactiveRule,e.showError,e.maxValue);s("update:minValue",V);break}case y.years:{const r=x(e.calendarType,!0,"1","1",a,e.isInactiveRule,e.showError,e.maxValue);s("update:minValue",r);break}}}}),i=p({get(){return $(e.maxValue,e.calendarType)},set(a){const t=/[^\d]/g;switch(O.value.value="",e.calendarType){case y.month:{const[r,v,V]=a.split(t),M=x(e.calendarType,!1,r,v,V,e.isInactiveRule,e.showError,e.minValue);s("update:maxValue",M);break}case y.year:{let[r,v]=a.split(t);const V=x(e.calendarType,!1,"1",r,v,e.isInactiveRule,e.showError,e.minValue);s("update:maxValue",V);break}case y.years:{const r=x(e.calendarType,!1,"1","1",a,e.isInactiveRule,e.showError,e.minValue);s("update:maxValue",r);break}}}}),h=p(()=>e.placeholderForMinValue??z(e.calendarType)),R=p(()=>e.placeholderForMaxValue??z(e.calendarType)),{el:b,masked:C}=N(S(e.calendarType)),{el:O,masked:H}=N(S(e.calendarType)),k=p(()=>{var a,t,r,v;return e.isError||!e.showError&&(isNaN(((a=e.minValue)==null?void 0:a.getDate())??0)||isNaN(((t=e.maxValue)==null?void 0:t.getDate())??0))||e.showError&&e.minValue&&e.maxValue&&e.minValue>e.maxValue?!0:e.minValue&&((r=e.isInactiveRule)==null?void 0:r.call(void 0,e.minValue))||e.maxValue&&((v=e.isInactiveRule)==null?void 0:v.call(void 0,e.maxValue))}),J=p(()=>e.isError?e.errorList??[]:!e.showError&&(isNaN(Number(e.minValue))||isNaN(Number(e.maxValue)))?["Не найдена дата, подходящая под критерии"]:e.showError&&e.minValue&&e.maxValue&&e.minValue>e.maxValue?["Начальная дата не может быть позже конечной"]:[e.inactiveErrorText??""]),B=new ResizeObserver(()=>{o.value&&b.value&&(b.value.style.width=window.getComputedStyle(o.value).getPropertyValue("width"))});return w(()=>u.value,()=>{C.value=u.value}),w(()=>i.value,()=>{H.value=i.value}),w([C,b],()=>{o.value&&b.value&&(o.value.innerText=C.value?C.value:h.value)}),(a,t)=>(T(),Y("div",{class:I([c(m).class])},[a.label?(T(),Y("label",ne,Z(a.label),1)):G("",!0),_("div",oe,[_("div",{class:I(d.value)},[_("div",ue,[_("span",{ref_key:"minDateText",ref:o,class:I([n,"invisible absolute"]),onVnodeMounted:t[0]||(t[0]=r=>o.value&&c(B).observe(o.value)),onVnodeUnmounted:t[1]||(t[1]=r=>o.value&&c(B).unobserve(o.value))},null,2),_("input",L({ref_key:"elMin",ref:b},{...c(m),class:""},{value:u.value,type:c(W).Text,placeholder:h.value,disabled:a.disabled,class:n,onChange:t[2]||(t[2]=r=>{u.value=r.target.value})}),null,16,se),ie,_("input",L({ref_key:"elMax",ref:O},{...c(m),class:""},{value:i.value,type:c(W).Text,placeholder:R.value,disabled:a.disabled,class:n,onChange:t[3]||(t[3]=r=>{i.value=r.target.value})}),null,16,de)]),_("span",{class:I(["min-h-4 min-w-4","jusify-center flex items-center","cursor-pointer text-blueGrey-2","absolute right-4",a.size===c(D).S?"top-2.5":"top-3.5",a.disabled?"pointer-events-none":"pointer-events-auto"]),onClick:t[4]||(t[4]=r=>s("click:iconRight"))},[P(ee,{icon:c(ae).IconCalendar,size:20},null,8,["icon"])],2)],2),k.value?(T(),A(te,{key:0,"error-list":J.value},null,8,["error-list"])):G("",!0)])],2))}}),ve=E({name:"AppCalendarRange"}),ce=E({...ve,props:{calendarType:{},minValue:{},maxValue:{},isInactiveRule:{type:Function}},emits:["update:minValue","update:maxValue","set:dateRange"],setup(f,{emit:g}){const e=f,s=g,m=p({get(){return e.minValue},set(n){s("update:minValue",n)}}),o=p({get(){return e.maxValue},set(n){s("update:maxValue",n)}}),d=re(U(()=>j(Object.assign({"./calendars/BaseCalendar.vue":()=>l(()=>import("./BaseCalendar-gu70jrK1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),"./calendars/CalendarDayCell.vue":()=>l(()=>import("./CalendarDayCell-BBhLJWfx.js"),__vite__mapDeps([10,11,3,4])),"./calendars/CalendarMonth.vue":()=>l(()=>import("./CalendarMonth-Qnu5Xu3E.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,13,14,15,16,17,18,11])),"./calendars/CalendarMonthCell.vue":()=>l(()=>import("./CalendarMonthCell-D6wo_Dl5.js"),__vite__mapDeps([19,20,3,4])),"./calendars/CalendarMonthRange.vue":()=>l(()=>import("./CalendarMonthRange-dNK1vkXQ.js"),__vite__mapDeps([21,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,11])),"./calendars/CalendarYear.vue":()=>l(()=>import("./CalendarYear-A4n5k0_N.js"),__vite__mapDeps([22,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,20])),"./calendars/CalendarYearCell.vue":()=>l(()=>import("./CalendarYearCell-B1cVNUo7.js"),__vite__mapDeps([23,24,3,4])),"./calendars/CalendarYearRange.vue":()=>l(()=>import("./CalendarYearRange-RD_poXri.js"),__vite__mapDeps([25,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,20])),"./calendars/CalendarYears.vue":()=>l(()=>import("./CalendarYears-uZCrx0E5.js"),__vite__mapDeps([26,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,24])),"./calendars/CalendarYearsRange.vue":()=>l(()=>import("./CalendarYearsRange-BNbAlt9p.js"),__vite__mapDeps([27,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,24]))}),`./calendars/${F[e.calendarType]}.vue`,3)));return w(()=>e.calendarType,()=>{d.value=U(()=>j(Object.assign({"./calendars/BaseCalendar.vue":()=>l(()=>import("./BaseCalendar-gu70jrK1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),"./calendars/CalendarDayCell.vue":()=>l(()=>import("./CalendarDayCell-BBhLJWfx.js"),__vite__mapDeps([10,11,3,4])),"./calendars/CalendarMonth.vue":()=>l(()=>import("./CalendarMonth-Qnu5Xu3E.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,13,14,15,16,17,18,11])),"./calendars/CalendarMonthCell.vue":()=>l(()=>import("./CalendarMonthCell-D6wo_Dl5.js"),__vite__mapDeps([19,20,3,4])),"./calendars/CalendarMonthRange.vue":()=>l(()=>import("./CalendarMonthRange-dNK1vkXQ.js"),__vite__mapDeps([21,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,11])),"./calendars/CalendarYear.vue":()=>l(()=>import("./CalendarYear-A4n5k0_N.js"),__vite__mapDeps([22,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,20])),"./calendars/CalendarYearCell.vue":()=>l(()=>import("./CalendarYearCell-B1cVNUo7.js"),__vite__mapDeps([23,24,3,4])),"./calendars/CalendarYearRange.vue":()=>l(()=>import("./CalendarYearRange-RD_poXri.js"),__vite__mapDeps([25,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,20])),"./calendars/CalendarYears.vue":()=>l(()=>import("./CalendarYears-uZCrx0E5.js"),__vite__mapDeps([26,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,24])),"./calendars/CalendarYearsRange.vue":()=>l(()=>import("./CalendarYearsRange-BNbAlt9p.js"),__vite__mapDeps([27,13,14,3,4,15,16,17,18,1,2,5,6,7,8,9,24]))}),`./calendars/${F[e.calendarType]}.vue`,3))}),(n,u)=>(T(),A(le(d.value),{"min-value":m.value,"onUpdate:minValue":u[0]||(u[0]=i=>m.value=i),"max-value":o.value,"onUpdate:maxValue":u[1]||(u[1]=i=>o.value=i),"is-inactive-rule":n.isInactiveRule,"onSet:dateRange":u[2]||(u[2]=()=>s("set:dateRange"))},null,40,["min-value","max-value","is-inactive-rule"]))}}),_e=E({name:"CalendarRangeSelect"}),fe=E({..._e,props:{minValue:{},maxValue:{},placeholderForMinValue:{},placeholderForMaxValue:{},size:{default:D.S},label:{},disabled:{type:Boolean},minWidth:{},isNotPreventDefaultEnter:{type:Boolean},required:{type:Boolean},calendarType:{},isInactiveRule:{},showError:{type:Boolean,default:!0},inactiveErrorText:{},isError:{type:Boolean},errorList:{}},emits:["update:minValue","update:maxValue"],setup(f,{emit:g}){const e=f,s=g,m=p({get(){return e.minValue},set(d){s("update:minValue",d)}}),o=p({get(){return e.maxValue},set(d){s("update:maxValue",d)}});return(d,n)=>(T(),A(K,null,{input:q(({toggleDropDown:u})=>[P(pe,L(d.$props,{"min-value":m.value,"onUpdate:minValue":n[0]||(n[0]=i=>m.value=i),"max-value":o.value,"onUpdate:maxValue":n[1]||(n[1]=i=>o.value=i),"onClick:iconRight":()=>u()}),null,16,["min-value","max-value","onClick:iconRight"])]),dropDown:q(({registerCallSection:u,unregisterCallSection:i,setDropDownVisibility:h})=>[P(ce,{"min-value":m.value,"onUpdate:minValue":n[2]||(n[2]=R=>m.value=R),"max-value":o.value,"onUpdate:maxValue":n[3]||(n[3]=R=>o.value=R),"calendar-type":d.calendarType,"is-inactive-rule":d.isInactiveRule,class:"border-md w-144 px-8 py-5 shadow-24",onVnodeMounted:u,onVnodeUnmounted:i,"onSet:dateRange":()=>h(!1)},null,8,["min-value","max-value","calendar-type","is-inactive-rule","onVnodeMounted","onVnodeUnmounted","onSet:dateRange"])]),_:1}))}});export{fe as _};
