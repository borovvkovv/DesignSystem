import{k as w,j as V}from"./index-DFO819Cz.js";import{Y as p}from"./index-CoNwWjZd.js";import{_ as B}from"./BaseCalendar.vue_vue_type_script_setup_true_lang-B0SQm6gb.js";import{_ as N}from"./CalendarYearCell.vue_vue_type_script_setup_true_lang-rLctdml2.js";import{d as C,g as o,e as I,o as r,f as D,w as $,b as x,c as _,F as h,r as k}from"./app-BJS3HRcf.js";import"./string-IWyLvnMj.js";import"./compare-CYLiHIG1.js";import"./index-ziM1GaDm.js";import"./InputErrorsList.vue_vue_type_script_setup_true_lang-DaugDlO_.js";import"./IconArrowLeft.vue_vue_type_script_setup_true_lang-C4z6_64m.js";import"./IconArrowRight.vue_vue_type_script_setup_true_lang-CHYIX3pv.js";import"./AppLink.vue_vue_type_script_setup_true_lang-D_VZ64dX.js";import"./PopupInsideContainer.vue_vue_type_script_setup_true_lang-CSvXNPUX.js";import"./BasePopup.vue_vue_type_script_setup_true_lang-Ci6Wsd6C.js";import"./usePopupInsideContainer-8s8n0Aqa.js";const E={class:"flex gap-x-8"},j=x("h4",null,"Год",-1),P={class:"mt-2 flex flex-wrap justify-between"},S=C({name:"CalendarYearsRange"}),oe=C({...S,props:{minValue:{},maxValue:{},isInactiveRule:{type:Function}},emits:["update:minValue","update:maxValue","set:dateRange"],setup(R,{emit:O}){const e=R,m=O,s=o({get(){return e.minValue},set(t){m("update:minValue",t)}}),d=o({get(){return e.maxValue},set(t){m("update:maxValue",t)}}),i=I((()=>{var a,c;const t=new Date().getFullYear(),n=((a=e.maxValue)==null?void 0:a.getFullYear())??((c=e.minValue)==null?void 0:c.getFullYear())??new Date().getFullYear(),l=t<n;return(Math.floor(Math.abs(n-t)/p)+(l?0:1))*(l?-1:1)})()),f=I(i.value+1),Y=o(()=>w(f.value,e.minValue,e.maxValue,e.isInactiveRule)),g=o(()=>w(i.value,e.minValue,e.maxValue,e.isInactiveRule)),b=o(()=>V(g.value.years[0].value+p,e.isInactiveRule)),z=o(()=>V(Y.value.years[0].value-p,e.isInactiveRule)),y=(t,n,l,u)=>{if(n.inactive){l(t);return}u();const a=new Date(n.value,0);d.value?(d.value=void 0,s.value=a):s.value?a<s.value?s.value=a:(d.value=a,m("set:dateRange",a)):s.value=a},A=()=>{f.value+=1,i.value+=1},F=()=>{f.value-=1,i.value-=1};return(t,n)=>(r(),D(B,{"popup-text":"Год недоступен для выбора","is-icon-arrow-right-disabled":b.value,"is-icon-arrow-left-disabled":z.value,onOnIconArrowLeftClick:A,onOnIconArrowRightClick:F},{default:$(({showPopup:l,closePopup:u})=>[x("div",E,[(r(!0),_(h,null,k([Y.value,g.value],(a,c)=>(r(),_("div",{key:c,"data-test-years":""},[j,x("div",P,[(r(!0),_(h,null,k(a.years,(v,L)=>(r(),D(N,{key:`day_${v}_${L}`,year:v,"onClick:date":M=>y(M,v,l,u)},null,8,["year","onClick:date"]))),128))])]))),128))])]),_:1},8,["is-icon-arrow-right-disabled","is-icon-arrow-left-disabled"]))}});export{oe as default};
