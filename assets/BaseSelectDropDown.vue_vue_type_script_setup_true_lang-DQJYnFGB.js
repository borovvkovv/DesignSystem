import{a3 as L,d as v,e as u,ab as O,g,o as _,c as S,D as w,b as V,O as E,f as h,w as y,n as $,h as x,u as C}from"./app-BJS3HRcf.js";const F=()=>L("scrollElement",void 0),z=["data-parent"],P=v({name:"BaseDropDown"}),R=v({...P,emits:["on:open","before:visible"],setup(k,{expose:f,emit:m}){const l=m,p=u(!1),s=u(!1),c=u(O()),t=g({get(){return p.value},set(o){p.value=o,l("on:open",o),o?E(()=>setTimeout(()=>{l("before:visible"),E(()=>s.value=!0)},0)):s.value=!1}}),i=o=>{o.key==="Escape"&&(t.value=!1),o.stopPropagation()},r=o=>{o.target.closest(`div[data-parent="${c.value}"]`)||(t.value=!1,o.stopPropagation())},b=()=>{window.addEventListener("click",r,{capture:!0}),window.addEventListener("keydown",i,{capture:!0})},a=()=>{window.removeEventListener("click",r,{capture:!0}),window.removeEventListener("keydown",i,{capture:!0})},D=o=>{t.value=o};return f({isDropDownOpened:t,setDropDownVisibility:D,isDropDownVisible:s}),(o,e)=>(_(),S("div",null,[w(o.$slots,"input",{toggleDropDown:()=>t.value=!t.value}),V("div",{"data-parent":c.value,class:"relative"},[w(o.$slots,"dropDown",{registerCallSection:b,unregisterCallSection:a,isDropDownOpened:t.value,setDropDownVisibility:D})],8,z)]))}}),T=v({name:"BaseSelectDropDown"}),N=v({...T,props:{isFullWidthDropDown:{type:Boolean},isDropDownFixed:{type:Boolean}},emits:["on:open","before:visible"],setup(k,{expose:f,emit:m}){const l=k,p=m,s=u(),c=u(),t=F(),i=e=>{var n;return(n=s.value)==null?void 0:n.setDropDownVisibility(e)},r=g(()=>{var e;return(e=s.value)==null?void 0:e.isDropDownOpened}),b=g(()=>{var e;return(e=s.value)==null?void 0:e.isDropDownVisible}),a=()=>i(!1),D=e=>{var n;e(),l.isDropDownFixed&&(window.addEventListener("resize",a),(n=C(t))==null||n.addEventListener("scroll",a))},o=e=>{var n;e(),l.isDropDownFixed&&(window.removeEventListener("resize",a),(n=C(t))==null||n.removeEventListener("scroll",a))};return f({isDropDownShown:r,setDropDownVisibility:i,dropdown:c}),(e,n)=>(_(),h(R,{ref_key:"baseDropDown",ref:s,"onOn:open":n[0]||(n[0]=d=>p("on:open",d)),"onBefore:visible":n[1]||(n[1]=()=>p("before:visible"))},{input:y(({toggleDropDown:d})=>[w(e.$slots,"input",{toggleDropDown:d,setDropDownVisibility:i,isDropDownVisible:r.value})]),dropDown:y(({registerCallSection:d,unregisterCallSection:B})=>[r.value?(_(),S("div",{key:0,ref_key:"dropdown",ref:c,class:$([e.isDropDownFixed?"fixed":"absolute","z-20 mt-1 h-fit",b.value?"visible":"invisible",e.isFullWidthDropDown&&"w-full"])},[w(e.$slots,"dropDown",{registerCallSection:()=>D(d),unregisterCallSection:()=>o(B),setDropDownVisibility:i})],2)):x("",!0)]),_:3},512))}});export{N as _};
