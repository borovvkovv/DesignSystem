import{g as k,e as w,f as c}from"./index-DFO819Cz.js";import{l as x,n as p}from"./index-CoNwWjZd.js";import{_ as E}from"./BaseCalendar.vue_vue_type_script_setup_true_lang-B0SQm6gb.js";import{_ as S}from"./CalendarMonthCell.vue_vue_type_script_setup_true_lang-CAf7JQMA.js";import{d as C,g as l,e as D,o,f as y,w as q,b as V,c as _,F as b,r as Y,t as z}from"./app-BJS3HRcf.js";import"./string-IWyLvnMj.js";import"./compare-CYLiHIG1.js";import"./index-ziM1GaDm.js";import"./InputErrorsList.vue_vue_type_script_setup_true_lang-DaugDlO_.js";import"./IconArrowLeft.vue_vue_type_script_setup_true_lang-C4z6_64m.js";import"./IconArrowRight.vue_vue_type_script_setup_true_lang-CHYIX3pv.js";import"./AppLink.vue_vue_type_script_setup_true_lang-D_VZ64dX.js";import"./PopupInsideContainer.vue_vue_type_script_setup_true_lang-CSvXNPUX.js";import"./BasePopup.vue_vue_type_script_setup_true_lang-Ci6Wsd6C.js";import"./usePopupInsideContainer-8s8n0Aqa.js";const G={class:"flex gap-x-8"},H={class:"mt-2 flex flex-wrap justify-between"},J=C({name:"CalendarYearRange"}),se=C({...J,props:{minValue:{},maxValue:{},isInactiveRule:{type:Function}},emits:["update:minValue","update:maxValue","set:dateRange"],setup(h,{emit:L}){const e=h,m=L,n=l({get(){return e.minValue},set(i){m("update:minValue",i)}}),d=l({get(){return e.maxValue},set(i){m("update:maxValue",i)}}),s=D(e.maxValue?x(e.maxValue,1):e.minValue??new Date),r=D(e.maxValue?e.maxValue:p(e.minValue??new Date,1)),g=l(()=>k(s.value,e.minValue,e.maxValue,e.isInactiveRule)),R=l(()=>k(r.value,e.minValue,e.maxValue,e.isInactiveRule)),$=l(()=>w(R.value.year+1,e.isInactiveRule)),A=l(()=>w(g.value.year-1,e.isInactiveRule)),B=(i,v,f,u,a)=>{if(v.inactive){u==null||u(i);return}a==null||a();const t=new Date(f.year,v.index);d.value?(d.value=void 0,n.value=t):n.value?t<n.value?n.value=t:(d.value=t,m("set:dateRange",t)):n.value=t},F=()=>{s.value=c(x(s.value,1),e.isInactiveRule),r.value=c(x(r.value,1),e.isInactiveRule)},N=()=>{s.value=c(p(s.value,1),e.isInactiveRule),r.value=c(p(r.value,1),e.isInactiveRule)};return(i,v)=>(o(),y(E,{"popup-text":"Месяц недоступен для выбора","is-icon-arrow-right-disabled":$.value,"is-icon-arrow-left-disabled":A.value,onOnIconArrowLeftClick:F,onOnIconArrowRightClick:N},{default:q(({showPopup:f,closePopup:u})=>[V("div",G,[(o(!0),_(b,null,Y([g.value,R.value],(a,t)=>(o(),_("div",{key:t,"data-test-year":""},[V("h4",null,z(`${a.year}`),1),V("div",H,[(o(!0),_(b,null,Y(a.months,(I,O)=>(o(),y(S,{key:`day_${a.year}_${O}`,month:I,"onClick:date":j=>B(j,I,a,f,u)},null,8,["month","onClick:date"]))),128))])]))),128))])]),_:1},8,["is-icon-arrow-right-disabled","is-icon-arrow-left-disabled"]))}});export{se as default};
