import{b as y,i as R,a as p}from"./index-DFO819Cz.js";import{_ as P}from"./BaseCalendar.vue_vue_type_script_setup_true_lang-B0SQm6gb.js";import{s as f,h as x}from"./index-CoNwWjZd.js";import{_ as S}from"./CalendarDayCell.vue_vue_type_script_setup_true_lang-0CE-NSo9.js";import{d as I,g as o,e as k,o as s,f as E,w as G,b as v,c as u,F as h,r as b,t as D,n as q,a as H,h as J}from"./app-BJS3HRcf.js";import"./string-IWyLvnMj.js";import"./compare-CYLiHIG1.js";import"./index-ziM1GaDm.js";import"./IconArrowLeft.vue_vue_type_script_setup_true_lang-C4z6_64m.js";import"./IconArrowRight.vue_vue_type_script_setup_true_lang-CHYIX3pv.js";import"./AppLink.vue_vue_type_script_setup_true_lang-D_VZ64dX.js";import"./PopupInsideContainer.vue_vue_type_script_setup_true_lang-CSvXNPUX.js";import"./BasePopup.vue_vue_type_script_setup_true_lang-Ci6Wsd6C.js";import"./usePopupInsideContainer-8s8n0Aqa.js";import"./InputErrorsList.vue_vue_type_script_setup_true_lang-DaugDlO_.js";const K={class:"flex gap-x-8"},Q={class:"mt-5 flex justify-between border-b border-b-blueGrey-4 py-1 text-grey-2"},T={class:"mt-2 flex flex-wrap justify-between"},U={key:0,class:"h-0 basis-full"},W=I({name:"CalendarMonthRange"}),ve=I({...W,props:{minValue:{},maxValue:{},isInactiveRule:{type:Function}},emits:["update:minValue","update:maxValue","set:dateRange"],setup(M,{emit:C}){const e=M,_=C,r=o({get(){return e.minValue},set(l){_("update:minValue",l)}}),V=o({get(){return e.maxValue},set(l){_("update:maxValue",l)}}),i=k(e.maxValue?f(e.maxValue,1):e.minValue??new Date),n=k(e.maxValue?e.maxValue:x(e.minValue??new Date,1)),$=o(()=>y(i.value,e.minValue,e.maxValue,e.isInactiveRule)),L=o(()=>y(n.value,e.minValue,e.maxValue,e.isInactiveRule)),A=o(()=>R(x(n.value,1),e.isInactiveRule)),B=o(()=>R(f(i.value,1),e.isInactiveRule)),j="flex h-8 w-8 items-center justify-center text-size-5",F=(l,c,d,w,a)=>{if(c.inactive){w(l);return}if(a(),c.prevMonth||c.nextMonth)return;const t=new Date(d.year,d.month.index-1,c.value);V.value?(V.value=void 0,r.value=t):r.value?t<r.value?r.value=t:(V.value=t,_("set:dateRange",t)):r.value=t},N=()=>{i.value=p(f(i.value,1),e.isInactiveRule),n.value=p(f(n.value,1),e.isInactiveRule)},z=()=>{i.value=p(x(i.value,1),e.isInactiveRule),n.value=p(x(n.value,1),e.isInactiveRule)};return(l,c)=>(s(),E(P,{"popup-text":"Дата недоступна для выбора","is-icon-arrow-right-disabled":A.value,"is-icon-arrow-left-disabled":B.value,onOnIconArrowLeftClick:N,onOnIconArrowRightClick:z},{default:G(({showPopup:d,closePopup:w})=>[v("div",K,[(s(!0),u(h,null,b([$.value,L.value],(a,t)=>(s(),u("div",{key:t,"data-test-month":"",class:"grow"},[v("h4",null,D(`${a.month.name} ${a.year}`),1),v("div",Q,[(s(),u(h,null,b(["пн","вт","ср","чт","пт","сб","вс"],m=>v("div",{key:m,class:q(j)},D(m),1)),64))]),v("div",T,[(s(!0),u(h,null,b(a.days,(m,g)=>(s(),u(h,{key:`day_${a.year}_${a.month.index}_${g}`},[H(S,{day:m,"onClick:date":O=>F(O,m,a,d,w)},null,8,["day","onClick:date"]),(g+1)%7===0?(s(),u("div",U)):J("",!0)],64))),128))])]))),128))])]),_:1},8,["is-icon-arrow-right-disabled","is-icon-arrow-left-disabled"]))}});export{ve as default};
